<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± - Ø³ÙˆÙ‚ Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    
    <style>
        .reset-bg {
            background: linear-gradient(135deg, 
                rgba(59, 130, 246, 0.9) 0%, 
                rgba(29, 78, 216, 0.9) 100%),
                url('../assets/auth-bg/car-reset.jpg');
            background-size: cover;
            background-position: center;
        }
        
        .password-strength {
            height: 6px;
            border-radius: 3px;
            margin-top: 8px;
            overflow: hidden;
            background: #e5e7eb;
        }
        
        .strength-meter {
            height: 100%;
            border-radius: 3px;
            transition: all 0.3s ease;
        }
        
        .strength-text {
            font-size: 0.875rem;
            margin-top: 4px;
            text-align: left;
        }
        
        .requirement-list {
            background: #f8fafc;
            border: 1px solid #e2e8f0;
            border-radius: 0.5rem;
            padding: 1rem;
            margin-top: 1rem;
        }
        
        .requirement-item {
            display: flex;
            align-items: center;
            margin-bottom: 0.5rem;
            color: #64748b;
        }
        
        .requirement-item.valid {
            color: #10b981;
        }
        
        .requirement-item i {
            margin-left: 0.5rem;
            font-size: 0.75rem;
        }
        
        .security-checklist {
            background: #dbeafe;
            border: 1px solid #93c5fd;
            border-radius: 0.5rem;
            padding: 1rem;
            margin-bottom: 1.5rem;
        }
        
        .success-animation {
            animation: successScale 0.5s ease;
        }
        
        @keyframes successScale {
            0% { transform: scale(0); opacity: 0; }
            100% { transform: scale(1); opacity: 1; }
        }
    </style>
</head>
<body class="reset-bg min-h-screen flex items-center justify-center p-4">
    
    <!-- Ø¨Ø·Ø§Ù‚Ø© Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± -->
    <div class="auth-card rounded-2xl w-full max-w-md animate__animated animate__fadeInUp">
        <!-- Ø§Ù„Ø´Ø¹Ø§Ø± -->
        <div class="p-8 text-center">
            <div class="w-16 h-16 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg">
                <i class="fas fa-lock text-white text-2xl"></i>
            </div>
            <h1 class="text-3xl font-bold text-gray-800 mb-2">Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</h1>
            <p class="text-gray-600">Ø§Ø®ØªØ± ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ù‚ÙˆÙŠØ© ÙˆØ¬Ø¯ÙŠØ¯Ø© Ù„Ø­Ø³Ø§Ø¨Ùƒ</p>
        </div>
        
        <!-- Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„Ø£Ù…Ù†ÙŠ -->
        <div class="security-checklist mx-8">
            <div class="flex items-start">
                <i class="fas fa-shield-alt text-blue-600 text-xl ml-3 mt-1"></i>
                <div>
                    <p class="text-blue-800 font-bold mb-2">Ù„ØªØ£Ù…ÙŠÙ† Ø­Ø³Ø§Ø¨Ùƒ:</p>
                    <ul class="text-blue-700 text-sm list-disc pr-5">
                        <li>Ø§Ø³ØªØ®Ø¯Ù… ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ù„Ù… ØªØ³ØªØ®Ø¯Ù…Ù‡Ø§ Ù…Ù† Ù‚Ø¨Ù„</li>
                        <li>ØªØ¬Ù†Ø¨ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø´Ø®ØµÙŠØ© ÙÙŠ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</li>
                        <li>Ø§Ø³ØªØ®Ø¯Ù… Ù…Ø²ÙŠØ¬Ø§Ù‹ Ù…Ù† Ø§Ù„Ø£Ø­Ø±Ù ÙˆØ§Ù„Ø£Ø±Ù‚Ø§Ù… ÙˆØ§Ù„Ø±Ù…ÙˆØ²</li>
                    </ul>
                </div>
            </div>
        </div>
        
        <!-- Ù†Ù…ÙˆØ°Ø¬ Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± -->
        <form id="resetPasswordForm" class="p-8">
            <!-- ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© -->
            <div class="mb-8">
                <label class="block font-bold mb-3 text-gray-700">
                    <i class="fas fa-key ml-2"></i> ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
                </label>
                
                <div class="input-group mb-2">
                    <input type="password" 
                           id="newPassword"
                           name="newPassword"
                           placeholder="Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©"
                           required
                           minlength="8"
                           class="form-input">
                    <i class="input-icon fas fa-lock"></i>
                    <button type="button" class="password-toggle" id="toggleNewPassword">
                        <i class="fas fa-eye"></i>
                    </button>
                </div>
                
                <!-- Ù‚ÙˆØ© ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± -->
                <div class="password-strength">
                    <div class="strength-meter" id="strengthMeter"></div>
                </div>
                <div class="strength-text" id="strengthText">Ù‚ÙˆØ© ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±: Ø¶Ø¹ÙŠÙØ©</div>
                
                <!-- Ù…ØªØ·Ù„Ø¨Ø§Øª ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± -->
                <div class="requirement-list">
                    <div class="requirement-item" id="reqLength">
                        <i class="fas fa-circle"></i>
                        <span>8 Ø£Ø­Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„</span>
                    </div>
                    <div class="requirement-item" id="reqUppercase">
                        <i class="fas fa-circle"></i>
                        <span>Ø­Ø±Ù ÙƒØ¨ÙŠØ± ÙˆØ§Ø­Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„</span>
                    </div>
                    <div class="requirement-item" id="reqLowercase">
                        <i class="fas fa-circle"></i>
                        <span>Ø­Ø±Ù ØµØºÙŠØ± ÙˆØ§Ø­Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„</span>
                    </div>
                    <div class="requirement-item" id="reqNumber">
                        <i class="fas fa-circle"></i>
                        <span>Ø±Ù‚Ù… ÙˆØ§Ø­Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„</span>
                    </div>
                    <div class="requirement-item" id="reqSpecial">
                        <i class="fas fa-circle"></i>
                        <span>Ø±Ù…Ø² Ø®Ø§Øµ ÙˆØ§Ø­Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„</span>
                    </div>
                </div>
            </div>
            
            <!-- ØªØ£ÙƒÙŠØ¯ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± -->
            <div class="mb-8">
                <label class="block font-bold mb-3 text-gray-700">
                    <i class="fas fa-lock ml-2"></i> ØªØ£ÙƒÙŠØ¯ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
                </label>
                
                <div class="input-group">
                    <input type="password" 
                           id="confirmNewPassword"
                           name="confirmNewPassword"
                           placeholder="Ø£Ø¹Ø¯ Ø¥Ø¯Ø®Ø§Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©"
                           required
                           class="form-input">
                    <i class="input-icon fas fa-lock"></i>
                    <button type="button" class="password-toggle" id="toggleConfirmNewPassword">
                        <i class="fas fa-eye"></i>
                    </button>
                </div>
                
                <div class="text-red-500 text-sm mt-1 hidden" id="confirmError">
                    ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± Ù…ØªØ·Ø§Ø¨Ù‚Ø©
                </div>
            </div>
            
            <!-- Ø²Ø± Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ¹ÙŠÙŠÙ† -->
            <button type="submit" 
                    id="resetButton"
                    class="w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white p-4 rounded-xl font-bold hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 active:scale-95 mb-6">
                <span id="resetText">Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</span>
                <span id="resetLoading" class="hidden">
                    <i class="fas fa-spinner fa-spin ml-2"></i> Ø¬Ø§Ø±Ù Ø§Ù„ØªØ­Ø¯ÙŠØ«...
                </span>
            </button>
            
            <!-- Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© -->
            <div class="text-center text-gray-600 text-sm">
                <i class="fas fa-info-circle ml-2"></i>
                Ø¨Ø¹Ø¯ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ¹ÙŠÙŠÙ†ØŒ Ø³ÙŠØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬Ùƒ Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø¬Ù‡Ø²Ø©
            </div>
        </form>
        
        <!-- Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù†Ø¬Ø§Ø­ -->
        <div id="successMessage" class="p-8 text-center hidden">
            <div class="w-24 h-24 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full flex items-center justify-center mx-auto mb-6 success-animation">
                <i class="fas fa-check text-white text-4xl"></i>
            </div>
            <h3 class="text-2xl font-bold text-gray-800 mb-2">ØªÙ… Ø¨Ù†Ø¬Ø§Ø­! ğŸ‰</h3>
            <p class="text-gray-600 mb-6">ØªÙ… ØªØ­Ø¯ÙŠØ« ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ±Ùƒ Ø¨Ù†Ø¬Ø§Ø­</p>
            
            <div class="space-y-4">
                <a href="login.html" 
                   class="block bg-gradient-to-r from-green-600 to-emerald-600 text-white text-center p-4 rounded-xl font-bold hover:shadow-xl transition">
                    <i class="fas fa-sign-in-alt ml-2"></i> ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ø­Ø³Ø§Ø¨Ùƒ
                </a>
                
                <a href="../index.html" 
                   class="block border border-gray-300 text-gray-700 text-center p-4 rounded-xl font-bold hover:bg-gray-50 transition">
                    <i class="fas fa-home ml-2"></i> Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
                </a>
            </div>
        </div>
    </div>
    
    <!-- JavaScript -->
    <script src="../js/auth-validation.js"></script>
    <script src="../js/auth-utils.js"></script>
    <script src="../js/auth-main.js"></script>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Ø§Ù„Ø¹Ù†Ø§ØµØ±
            const resetForm = document.getElementById('resetPasswordForm');
            const resetButton = document.getElementById('resetButton');
            const resetText = document.getElementById('resetText');
            const resetLoading = document.getElementById('resetLoading');
            const successMessage = document.getElementById('successMessage');
            const newPasswordInput = document.getElementById('newPassword');
            const confirmPasswordInput = document.getElementById('confirmNewPassword');
            const strengthMeter = document.getElementById('strengthMeter');
            const strengthText = document.getElementById('strengthText');
            const toggleNewPassword = document.getElementById('toggleNewPassword');
            const toggleConfirmPassword = document.getElementById('toggleConfirmNewPassword');
            
            // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø±Ù…Ø² Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ¹ÙŠÙŠÙ† Ù…Ù† URL
            const urlParams = new URLSearchParams(window.location.search);
            const resetToken = urlParams.get('token');
            
            if (!resetToken) {
                alert('Ø±Ø§Ø¨Ø· ØºÙŠØ± ØµØ§Ù„Ø­. Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø·Ù„Ø¨ Ø±Ø§Ø¨Ø· Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø¬Ø¯ÙŠØ¯.');
                window.location.href = 'forgot-password.html';
                return;
            }
            
            // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØªØ­Ù‚Ù‚
            const validator = new AuthValidator();
            
            // Ø¹Ø±Ø¶/Ø¥Ø®ÙØ§Ø¡ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
            toggleNewPassword.addEventListener('click', function() {
                const type = newPasswordInput.getAttribute('type') === 'password' ? 'text' : 'password';
                newPasswordInput.setAttribute('type', type);
                this.querySelector('i').classList.toggle('fa-eye');
                this.querySelector('i').classList.toggle('fa-eye-slash');
            });
            
            toggleConfirmPassword.addEventListener('click', function() {
                const type = confirmPasswordInput.getAttribute('type') === 'password' ? 'text' : 'password';
                confirmPasswordInput.setAttribute('type', type);
                this.querySelector('i').classList.toggle('fa-eye');
                this.querySelector('i').classList.toggle('fa-eye-slash');
            });
            
            // ØªØ­Ù‚Ù‚ Ù…Ù† Ù‚ÙˆØ© ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„ÙƒØªØ§Ø¨Ø©
            newPasswordInput.addEventListener('input', function() {
                const password = this.value;
                
                // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù…ØªØ·Ù„Ø¨Ø§Øª
                const requirements = AuthUtils.validatePasswordRequirements(password);
                
                // ØªØ­Ø¯ÙŠØ« Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª Ø§Ù„Ù…ØªØ·Ù„Ø¨Ø§Øª
                updateRequirement('reqLength', requirements.length);
                updateRequirement('reqUppercase', requirements.uppercase);
                updateRequirement('reqLowercase', requirements.lowercase);
                updateRequirement('reqNumber', requirements.number);
                updateRequirement('reqSpecial', requirements.special);
                
                // Ø­Ø³Ø§Ø¨ Ù‚ÙˆØ© ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
                const strength = AuthUtils.calculatePasswordStrength(password);
                
                // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ù‚ÙŠØ§Ø³
                strengthMeter.style.width = strength.percentage + '%';
                strengthMeter.style.background = strength.color;
                
                // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†Øµ
                strengthText.textContent = 'Ù‚ÙˆØ© ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±: ' + strength.text;
                strengthText.style.color = strength.color;
                
                // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØªØ·Ø§Ø¨Ù‚ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
                checkPasswordMatch();
            });
            
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØªØ·Ø§Ø¨Ù‚ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
            confirmPasswordInput.addEventListener('input', checkPasswordMatch);
            
            // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬
            resetForm.addEventListener('submit', async function(e) {
                e.preventDefault();
                
                // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
                const errors = validator.validateResetPasswordForm(this);
                
                if (Object.keys(errors).length > 0) {
                    validator.displayErrors(errors);
                    return;
                }
                
                // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØªØ·Ø§Ø¨Ù‚ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
                if (newPasswordInput.value !== confirmPasswordInput.value) {
                    showErrorMessage('ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± Ù…ØªØ·Ø§Ø¨Ù‚Ø©');
                    return;
                }
                
                // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ù‚ÙˆØ© ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
                const strength = AuthUtils.calculatePasswordStrength(newPasswordInput.value);
                if (strength.score < 3) {
                    showErrorMessage('ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø¶Ø¹ÙŠÙØ© Ø¬Ø¯Ø§Ù‹. Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ø£Ù‚ÙˆÙ‰.');
                    return;
                }
                
                // Ø¹Ø±Ø¶ Ø­Ø§Ù„Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„
                resetText.classList.add('hidden');
                resetLoading.classList.remove('hidden');
                resetButton.disabled = true;
                
                try {
                    // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
                    const response = await AuthAPI.resetPassword({
                        token: resetToken,
                        newPassword: newPasswordInput.value,
                        confirmPassword: confirmPasswordInput.value
                    });
                    
                    // Ù†Ø¬Ø§Ø­ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ¹ÙŠÙŠÙ†
                    showSuccessMessage();
                    
                    // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ ÙˆØ¥Ø¸Ù‡Ø§Ø± Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù†Ø¬Ø§Ø­
                    resetForm.classList.add('hidden');
                    successMessage.classList.remove('hidden');
                    
                } catch (error) {
                    // ÙØ´Ù„ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ¹ÙŠÙŠÙ†
                    showErrorMessage(error.message || 'ÙØ´Ù„ Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±');
                    
                    // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø²Ø±
                    resetText.classList.remove('hidden');
                    resetLoading.classList.add('hidden');
                    resetButton.disabled = false;
                }
            });
            
            // Ø¯ÙˆØ§Ù„ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø©
            function updateRequirement(elementId, isValid) {
                const element = document.getElementById(elementId);
                const icon = element.querySelector('i');
                
                element.classList.toggle('valid', isValid);
                element.classList.toggle('invalid', !isValid);
                
                icon.classList.toggle('fa-check-circle', isValid);
                icon.classList.toggle('fa-circle', !isValid);
                icon.classList.toggle('text-green-500', isValid);
                icon.classList.toggle('text-gray-400', !isValid);
            }
            
            function checkPasswordMatch() {
                const password = newPasswordInput.value;
                const confirm = confirmPasswordInput.value;
                const errorElement = document.getElementById('confirmError');
                
                if (confirm && password !== confirm) {
                    confirmPasswordInput.classList.add('border-red-500');
                    errorElement.classList.remove('hidden');
                    return false;
                } else {
                    confirmPasswordInput.classList.remove('border-red-500');
                    errorElement.classList.add('hidden');
                    return true;
                }
            }
            
            function showSuccessMessage() {
                const messageDiv = document.createElement('div');
                messageDiv.className = 'fixed top-4 right-4 z-50 px-6 py-3 bg-green-500 text-white rounded-lg shadow-lg animate__animated animate__fadeInDown';
                messageDiv.innerHTML = `
                    <div class="flex items-center">
                        <i class="fas fa-check-circle mr-3"></i>
                        <span>ØªÙ… ØªØ­Ø¯ÙŠØ« ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø¨Ù†Ø¬Ø§Ø­!</span>
                    </div>
                `;
                document.body.appendChild(messageDiv);
                
                setTimeout(() => {
                    messageDiv.classList.add('animate__fadeOutUp');
                    setTimeout(() => messageDiv.remove(), 300);
                }, 3000);
            }
            
            function showErrorMessage(message) {
                const messageDiv = document.createElement('div');
                messageDiv.className = 'fixed top-4 right-4 z-50 px-6 py-3 bg-red-500 text-white rounded-lg shadow-lg animate__animated animate__fadeInDown';
                messageDiv.innerHTML = `
                    <div class="flex items-center">
                        <i class="fas fa-exclamation-circle mr-3"></i>
                        <span>${message}</span>
                    </div>
                `;
                document.body.appendChild(messageDiv);
                
                setTimeout(() => {
                    messageDiv.classList.add('animate__fadeOutUp');
                    setTimeout(() => messageDiv.remove(), 300);
                }, 3000);
            }
            
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµÙ„Ø§Ø­ÙŠØ© Ø§Ù„Ø±Ù…Ø² Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
            if (resetToken) {
                AuthAPI.validateResetToken(resetToken)
                    .then(response => {
                        // Ø§Ù„Ø±Ù…Ø² ØµØ§Ù„Ø­
                        console.log('Reset token is valid');
                    })
                    .catch(error => {
                        // Ø§Ù„Ø±Ù…Ø² ØºÙŠØ± ØµØ§Ù„Ø­ Ø£Ùˆ Ù…Ù†ØªÙ‡ÙŠ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©
                        alert('Ø±Ø§Ø¨Ø· Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ¹ÙŠÙŠÙ† ØºÙŠØ± ØµØ§Ù„Ø­ Ø£Ùˆ Ù…Ù†ØªÙ‡ÙŠ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©. Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø·Ù„Ø¨ Ø±Ø§Ø¨Ø· Ø¬Ø¯ÙŠØ¯.');
                        window.location.href = 'forgot-password.html';
                    });
            }
        });
    </script>
</body>
</html>